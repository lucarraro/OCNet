<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Function that calculates relationship between threshold area and number of nodes at RN and AG level for a given OCN. 
It can be used prior to application of aggregate_OCN in order to derive the drainage area threshold 
that corresponds to the desired number of nodes of the aggregated network.
It is intended for use with single outlet OCNs, although its use with multiple outlet OCNs is allowed (provided that max(thrValues) &amp;lt;= min(OCN$CM$A))."><title>Find relationship between number of nodes and threshold area in an OCN — find_area_threshold_OCN • OCNet</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find relationship between number of nodes and threshold area in an OCN — find_area_threshold_OCN"><meta property="og:description" content="Function that calculates relationship between threshold area and number of nodes at RN and AG level for a given OCN. 
It can be used prior to application of aggregate_OCN in order to derive the drainage area threshold 
that corresponds to the desired number of nodes of the aggregated network.
It is intended for use with single outlet OCNs, although its use with multiple outlet OCNs is allowed (provided that max(thrValues) &amp;lt;= min(OCN$CM$A))."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">OCNet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/OCNet.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Find relationship between number of nodes and threshold area in an OCN</h1>
      
      <div class="d-none name"><code>find_area_threshold_OCN.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function that calculates relationship between threshold area and number of nodes at RN and AG level for a given OCN. 
It can be used prior to application of <code><a href="aggregate_OCN.html">aggregate_OCN</a></code> in order to derive the drainage area threshold 
that corresponds to the desired number of nodes of the aggregated network.
It is intended for use with single outlet OCNs, although its use with multiple outlet OCNs is allowed (provided that <code>max(thrValues) &lt;= min(OCN$CM$A)</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">find_area_threshold_OCN</span><span class="op">(</span><span class="va">OCN</span>, thrValues <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">OCN</span><span class="op">$</span><span class="va">cellsize</span><span class="op">^</span><span class="fl">2</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">OCN</span><span class="op">$</span><span class="va">CM</span><span class="op">$</span><span class="va">A</span><span class="op">)</span>, <span class="va">OCN</span><span class="op">$</span><span class="va">cellsize</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span>, maxReachLength <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  streamOrderType <span class="op">=</span> <span class="st">"Strahler"</span>, displayUpdates <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>OCN</dt>
<dd><p>A <code>river</code> object as produced by <code><a href="landscape_OCN.html">landscape_OCN</a></code></p></dd>


<dt>thrValues</dt>
<dd><p>Vector of values of threshold drainage area (in squared planar units) for which the respective number of nodes at the RN and AG levels are computed. 
Note that it must be <code>max(thrValues) &lt;= min(OCN$CM$A)</code>, otherwise the catchment(s) with area lower than <code>max(thrValues)</code> degenerate to a network with zero nodes at the RN/AG level.</p></dd>


<dt>maxReachLength</dt>
<dd><p>Maximum reach length allowed (in planar units). If the path length between a channel head and the downstream confluence 
is higher than <code>maxReachLength</code>, the reach starting from the channel head will have a length up to <code>maxReachLength</code>, while the next downstream 
pixel is considered as a new channel head, from which a new reach departs.</p></dd>


<dt>streamOrderType</dt>
<dd><p>If <code>"Strahler"</code>, Strahler stream order is computed; if <code>"Shreve"</code>, Shreve stream order is computed.</p></dd>


<dt>displayUpdates</dt>
<dd><p>If <code>1</code>, progress updates are printed in the console while the function is running. If <code>0</code>, no updates are printed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list whose objects are listed below.</p>
<dl><dt><code>thrValues</code></dt>
<dd><p>Copy of the input vector with the same name.</p></dd>

<dt><code>nNodesRN</code></dt>
<dd><p>Vector (of the same length as <code>thrValues</code>) of number of nodes at the RN level resulting from the aggregation process 
with a threshold area values specified by <code>thrValues</code>.</p></dd>

<dt><code>nNodesAG</code></dt>
<dd><p>Vector (of the same length as <code>thrValues</code>) of number of nodes at the AG level resulting from the aggregation process 
with a threshold area values specified by <code>thrValues</code>.</p></dd>

<dt><code>drainageDensity</code></dt>
<dd><p>Vector (of the same length as <code>thrValues</code>) of values of drainage density of the river network 
resulting from the aggregation process with a threshold area values specified by <code>thrValues</code>. Drainage density is calculated 
as total length of the river network divided by area of the lattice. It is expressed in planar units^(-1).</p></dd>

<dt><code>streamOrder</code></dt>
<dd><p>Vector (of the same length as <code>thrValues</code>) of values of maximum stream order attained by the river network, 
resulting from the aggregation process with a threshold area values specified by <code>thrValues</code>.</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># 1) derive relationship between threshold area and number of nodes</span></span></span>
<span class="r-in"><span><span class="va">OCN</span> <span class="op">&lt;-</span> <span class="fu"><a href="landscape_OCN.html">landscape_OCN</a></span><span class="op">(</span><span class="va">OCN_20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">thr</span> <span class="op">&lt;-</span> <span class="fu">find_area_threshold_OCN</span><span class="op">(</span><span class="va">OCN</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># log-log plot of number of nodes at the AG level versus </span></span></span>
<span class="r-in"><span><span class="co"># relative threshold area (as fraction of total drainage area) </span></span></span>
<span class="r-in"><span><span class="va">old.par</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mai <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>  </span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">thr</span><span class="op">$</span><span class="va">thrValues</span><span class="op">[</span><span class="va">thr</span><span class="op">$</span><span class="va">nNodesAG</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">]</span><span class="op">/</span><span class="va">OCN</span><span class="op">$</span><span class="va">CM</span><span class="op">$</span><span class="va">A</span>,</span></span>
<span class="r-in"><span>    <span class="va">thr</span><span class="op">$</span><span class="va">nNodesAG</span><span class="op">[</span><span class="va">thr</span><span class="op">$</span><span class="va">nNodesAG</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">]</span>, log <span class="op">=</span> <span class="st">"xy"</span>,</span></span>
<span class="r-in"><span>    xlab <span class="op">=</span> <span class="st">"Relative area threshold"</span>, ylab <span class="op">=</span> <span class="st">"Number of AG nodes"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="find_area_threshold_OCN-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">old.par</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Luca Carraro, Enrico Bertuzzo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

